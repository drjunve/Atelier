package com.edu.springboot.smtp;

import java.util.HashMap;
import java.util.List;
import java.util.Map;
import java.util.jar.Attributes;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.GetMapping;

import com.edu.springboot.jdbc.IMemberService;
import com.edu.springboot.jdbc.MemberDTO;

import jakarta.servlet.http.HttpServletRequest;

@org.springframework.web.bind.annotation.RestController
public class RestController {
	
	@Autowired
	IMemberService dao;
	
	@GetMapping("/restBoardSearch.do")
	public  List<MemberDTO> restBoardSearch(HttpServletRequest req,
			InfoDTO infoDTO){
		
		// searchField는 parameterDTO가 받음
		// searchWord는 별도로 저장해야함
		if(req.getParameter("searchWord")!=null) {
			
			String[] sTxtArray = req.getParameter("searchWord").split(" ");
			infoDTO.getSearchWord().clear();
			for(String str : sTxtArray) {
				System.out.println(str);
				infoDTO.getSearchWord().add(str);
			}
		}
		
		List<MemberDTO> searchList = dao.seletList(infoDTO);
		
		return searchList;
		
	}

}
